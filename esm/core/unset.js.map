{"version":3,"file":"unset.js","sourceRoot":"./lib/","sources":["core/unset.ts"],"names":[],"mappings":"AAAA;;GAEG;AACH,OAAO,QAAQ,MAAM,UAAU,CAAC;AAChC,OAAO,WAAW,MAAM,cAAc,CAAC;AAEvC,MAAM,UAAU,MAAM,CAAC,GAAW,EAAE,KAAwB;IAE3D,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;QACnB,MAAM,IAAI,SAAS,CAAC,+BAA+B,GAAG,EAAE,CAAC,CAAC;KAC1D;IAED,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,EACzB;QACC,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC,CAAA;KAC1B;SAED;QACC,KAAK,GAAG,KAAK,CAAC,KAAK,EAAE,CAAA;KACrB;IAED,IAAI,IAAY,CAAC;IACjB,IAAI,MAAM,GAAQ,GAAG,CAAC;IACtB,IAAI,MAAM,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC;IAEzB,KAAK,IAAI,IAAI,KAAK,EAClB;QACC,IAAI,IAAI,IAAI,MAAM,EAClB;YACC,MAAM,GAAG,MAAM,CAAC,IAAI,CAAC,CAAA;SACrB;aAED;YACC,OAAO,IAAI,CAAC;SACZ;KACD;IAED,IAAI,MAAM,IAAI,MAAM,EACpB;QACC,OAAO,CAAC,OAAO,MAAM,CAAC,MAAM,CAAC,CAAC,CAAA;KAC9B;IAED,OAAO,IAAI,CAAA;AACZ,CAAC;AAED,eAAe,MAAM,CAAA","sourcesContent":["/**\n * Created by user on 2020/1/13.\n */\nimport isObject from 'isobject';\nimport splitString from 'split-string';\n\nexport function _unset(obj: object, paths: string | string[])\n{\n\tif (!isObject(obj)) {\n\t\tthrow new TypeError(`expected an object. but got ${obj}`);\n\t}\n\n\tif (!Array.isArray(paths))\n\t{\n\t\tpaths = splitString(paths)\n\t}\n\telse\n\t{\n\t\tpaths = paths.slice()\n\t}\n\n\tlet prop: string;\n\tlet target: any = obj;\n\tlet latest = paths.pop();\n\n\tfor (prop of paths)\n\t{\n\t\tif (prop in target)\n\t\t{\n\t\t\ttarget = target[prop]\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tif (latest in target)\n\t{\n\t\treturn (delete target[latest])\n\t}\n\n\treturn true\n}\n\nexport default _unset\n"]}